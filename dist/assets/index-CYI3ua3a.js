import{j as t,r as p,a as j,S as D,ab as M}from"./vendor-CypZrQ72.js";import{S as P}from"./SEO-Cra15uE4.js";import{d as L,e as R,g as T,i as E,h as H,t as q,m as y,j as U,A as V}from"./index-O0UzWayt.js";import{f as W}from"./index-xISHQOSf.js";const z="_container_fcu1c_1",$={container:z},S=({children:r,className:c="",fluid:l=!1,...d})=>t.jsx("div",{className:`${$.container} ${l?$.fluid:""} ${c}`,...d,children:r}),J="_productGridContainer_13pvp_3",K="_productGrid_13pvp_3",Q="_productCard_13pvp_65",X="_productImage_13pvp_101",Y="_discountTag_13pvp_143",Z="_productRating_13pvp_169",tt="_starFilled_13pvp_183",st="_starEmpty_13pvp_191",at="_productInfo_13pvp_199",ot="_productTitle_13pvp_207",et="_productPriceContainer_13pvp_219",it="_originalPrice_13pvp_235",nt="_discountedPrice_13pvp_247",rt="_productPrice_13pvp_219",ct="_productInstallment_13pvp_271",lt="_productButton_13pvp_283",dt="_paginationContainer_13pvp_319",pt="_paginationArrow_13pvp_335",ut="_disabled_13pvp_361",mt="_paginationNumbers_13pvp_381",_t="_paginationNumber_13pvp_381",vt="_active_13pvp_427",ht="_paginationDots_13pvp_439",ft="_paginationDot_13pvp_439",s={productGridContainer:J,productGrid:K,productCard:Q,productImage:X,discountTag:Y,productRating:Z,starFilled:tt,starEmpty:st,productInfo:at,productTitle:ot,productPriceContainer:et,originalPrice:it,discountedPrice:nt,productPrice:rt,productInstallment:ct,productButton:lt,paginationContainer:dt,paginationArrow:pt,disabled:ut,paginationNumbers:mt,paginationNumber:_t,active:vt,paginationDots:ht,paginationDot:ft},xt=({products:r,currentPage:c,totalPages:l,onPageChange:d})=>{const h=a=>a.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}),g=(a,o)=>{const m=(a-o)/a*100;return Math.round(m)},C=a=>{const o=[],m=Math.floor(a);for(let u=1;u<=5;u++)u<=m?o.push(t.jsx(j,{icon:T,className:s.starFilled},u)):o.push(t.jsx(j,{icon:W,className:s.starEmpty},u));return o};return t.jsxs("div",{className:s.productGridContainer,children:[t.jsx("div",{className:s.productGrid,children:r.map(a=>{const o=a.promocao?a.preco*.9:null;return t.jsxs("div",{className:s.productCard,children:[t.jsxs("div",{className:s.productImage,children:[t.jsx("img",{src:a.imagem||"https://via.placeholder.com/200x200",alt:a.nome}),a.promocao&&t.jsxs("div",{className:s.discountTag,children:["-",g(a.preco,o),"%"]})]}),t.jsx("div",{className:s.productRating,children:C(a.avaliacoes)}),t.jsxs("div",{className:s.productInfo,children:[t.jsx("div",{className:s.productTitle,children:a.nome}),t.jsx("div",{className:s.productPriceContainer,children:a.promocao?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:s.originalPrice,children:h(a.preco)}),t.jsx("span",{className:s.discountedPrice,children:h(o)})]}):t.jsx("div",{className:s.productPrice,children:h(a.preco)})}),t.jsx("div",{className:s.productInstallment,dangerouslySetInnerHTML:{__html:a.divisao}}),t.jsx("button",{className:s.productButton,children:"Comprar"})]})]},a.id)})}),l>1&&t.jsxs("div",{className:s.paginationContainer,children:[t.jsx("button",{className:`${s.paginationArrow} ${c===1?s.disabled:""}`,onClick:()=>c>1&&d(c-1),disabled:c===1,children:t.jsx(j,{icon:L})}),t.jsx("div",{className:s.paginationNumbers,children:Array.from({length:l}).map((a,o)=>t.jsx("button",{className:`${s.paginationNumber} ${c===o+1?s.active:""}`,onClick:()=>d(o+1),children:o+1},o))}),t.jsx("button",{className:`${s.paginationArrow} ${c===l?s.disabled:""}`,onClick:()=>c<l&&d(c+1),disabled:c===l,children:t.jsx(j,{icon:R})})]}),l>1&&t.jsx("div",{className:s.paginationDots,children:Array.from({length:l}).map((a,o)=>t.jsx("span",{className:`${s.paginationDot} ${c===o+1?s.active:""}`,onClick:()=>d(o+1)},o))})]})},jt=p.memo(xt),gt="_active_7kfoy_213",yt="_filterPanel_7kfoy_481",Nt="_productsHeader_7kfoy_517",Ct="_filterButton_7kfoy_551",bt="_filterGroup_7kfoy_655",Ft="_sortOptions_7kfoy_671",Pt="_sortOption_7kfoy_671",$t="_filterActions_7kfoy_875",St="_clearFilters_7kfoy_891",kt="_applyFilters_7kfoy_891",n={active:gt,filterPanel:yt,productsHeader:Nt,filterButton:Ct,filterGroup:bt,sortOptions:Ft,sortOption:Pt,filterActions:$t,clearFilters:St,applyFilters:kt},x={tenis:{data:q,displayName:"Sneakers"},camisetas:{data:H,displayName:"Camisetas"},acessorios:{data:E,displayName:"Acessórios"}},k={initial:{opacity:0},in:{opacity:1,transition:{duration:.4,ease:"easeInOut"}},out:{opacity:0,transition:{duration:.4,ease:"easeInOut"}}},Gt=()=>{var F;const{categoria:r}=D(),[c]=M(),l=c.get("produto"),[d,h]=p.useState([]),[g,C]=p.useState("default"),[a,o]=p.useState(1),[m,u]=p.useState(!1),[I,b]=p.useState("relevancia"),v=8;p.useEffect(()=>{if(r&&x[r]&&(h(x[r].data),o(1),l)){const e=x[r].data.findIndex(i=>i.id.toString()===l);if(e!==-1){const i=Math.floor(e/v)+1;o(i)}}},[r,l,v]);const O=[{value:"relevancia",label:"Relevância"},{value:"menor-preco",label:"Menor Preço"},{value:"maior-preco",label:"Maior Preço"},{value:"mais-vendidos",label:"Mais Vendidos"},{value:"lancamentos",label:"Lançamentos"}],A=e=>{b(e)},N=p.useMemo(()=>{if(!d.length)return[];const e=[...d];switch(g){case"menor-preco":return e.sort((i,_)=>i.preco-_.preco);case"maior-preco":return e.sort((i,_)=>_.preco-i.preco);case"mais-vendidos":return e.sort((i,_)=>_.avaliacoes-i.avaliacoes);case"lancamentos":return e.sort((i,_)=>_.id-i.id);default:return e}},[d,g]),w=p.useMemo(()=>{const e=a*v,i=e-v;return N.slice(i,e)},[N,a,v]),G=Math.ceil(N.length/v),B=e=>o(e),f=((F=x[r])==null?void 0:F.displayName)||"Produtos";return r&&!x[r]?t.jsxs(t.Fragment,{children:[t.jsx(P,{title:"Categoria não encontrada",description:"A categoria que você está procurando não existe.",canonicalUrl:`https://onlywavestore.com/produtos/${r}`}),t.jsx(y.div,{initial:"initial",animate:"in",exit:"out",variants:k,className:n.pageContent,children:t.jsx(S,{children:t.jsxs("div",{className:n.categoryNotFound,children:[t.jsx("h2",{children:"Categoria não encontrada"}),t.jsx("p",{children:"A categoria que você está procurando não existe."})]})})})]}):t.jsxs(t.Fragment,{children:[t.jsx(P,{title:f,description:`Confira nossa coleção de ${f.toLowerCase()} com os melhores preços e frete grátis para todo o Brasil.`,keywords:`${f.toLowerCase()}, moda, OnlyWave, comprar ${f.toLowerCase()}`,canonicalUrl:`https://onlywavestore.com/produtos/${r}`}),t.jsx(y.div,{initial:"initial",animate:"in",exit:"out",variants:k,className:n.pageContent,children:t.jsx(S,{children:t.jsxs("div",{className:n.productsContainer,children:[t.jsxs("div",{className:n.productsHeader,children:[t.jsx("h1",{children:f}),t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{className:n.filterButton,onClick:()=>u(!m),children:[t.jsx(j,{icon:U,className:m?n.active:""}),"Filtrar"]}),t.jsx(V,{children:m&&t.jsxs(y.div,{className:n.filterPanel,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[t.jsx("h3",{children:"Filtros"}),t.jsxs("div",{className:n.filterGroup,children:[t.jsx("h4",{children:"Ordenar por"}),t.jsx("div",{className:n.sortOptions,children:O.map((e,i)=>t.jsx(y.div,{className:`${n.sortOption} ${I===e.value?n.active:""}`,onClick:()=>A(e.value),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+i*.1,duration:.5},whileHover:{transition:{duration:.7}},children:e.label},e.value))})]}),t.jsxs("div",{className:n.filterActions,children:[t.jsx("button",{className:n.clearFilters,onClick:()=>{b("relevancia")},children:"Limpar Filtros"}),t.jsx("button",{className:n.applyFilters,onClick:()=>{u(!1)},children:"Aplicar Filtros"})]})]})})]})]}),t.jsx(jt,{products:w,currentPage:a,totalPages:G,onPageChange:B})]})})})]})};export{Gt as default};
//# sourceMappingURL=index-CYI3ua3a.js.map
